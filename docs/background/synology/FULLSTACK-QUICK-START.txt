FULLSTACK DEMO - QUICK START
============================

Snabbguide fÃ¶r att starta fullstack-projektet (Node.js + PostgreSQL)

PROJEKT-INFO
------------
Plats: ~/projects/fullstack-demo/
Port: 4000
Git: Initierat, commit 71c1f75
Stack: Node.js Express + PostgreSQL
NÃ¤tverk: Docker bridge network (db endast intern Ã¥tkomst)
Volymer: Kod-mappning + persistent PostgreSQL data


STARTA PROJEKTET (FÃ–RSTA GÃ…NGEN)
---------------------------------

1. SSH till servern:
   ssh REDACTED_USERNAME@REDACTED_SERVER_IP
   LÃ¶senord: REDACTED_PASSWORD

2. GÃ¥ till projektet:
   cd ~/projects/fullstack-demo

3. Starta med Docker:
   docker-compose up --build

   (FÃ¶rsta gÃ¥ngen tar det 2-3 minuter - laddar images, bygger, startar db)

4. VÃ¤nta tills du ser:
   "Server running on http://0.0.0.0:4000"
   "Connected to PostgreSQL"

5. Ã–PPNA NY TERMINAL och testa:
   curl http://localhost:4000
   curl http://localhost:4000/health
   curl http://localhost:4000/users

6. I webblÃ¤sare:
   http://REDACTED_SERVER_IP:4000
   http://REDACTED_SERVER_IP:4000/users


TESTA API
---------

# Lista alla users
curl http://localhost:4000/users

# Skapa ny user
curl -X POST http://localhost:4000/users \
  -H "Content-Type: application/json" \
  -d '{"name":"David Lee","email":"david@example.com"}'

# Health check (inkl. databas-test)
curl http://localhost:4000/health


STOPPA PROJEKTET
----------------

# Tryck Ctrl+C i terminalen dÃ¤r docker-compose kÃ¶r
# Eller i ny terminal:
cd ~/projects/fullstack-demo
docker-compose down


STARTA IGEN (SNABBARE)
----------------------

cd ~/projects/fullstack-demo
docker-compose up

# Eller i bakgrunden:
docker-compose up -d

# FÃ¶lj loggar:
docker-compose logs -f


UTVECKLA KOD
------------

BÃ„STA SÃ„TTET: VS Code Remote-SSH

1. Ã–ppna VS Code pÃ¥ din dator
2. Tryck F1 â†’ "Remote-SSH: Connect to Host"
3. VÃ¤lj Mittemellan (eller ange REDACTED_USERNAME@REDACTED_SERVER_IP)
4. Ã–ppna mapp: /var/services/homes/REDACTED_USERNAME/projects/fullstack-demo
5. Redigera src/server.js
6. Spara - nodemon startar om automatiskt!
7. Testa i webblÃ¤sare: http://REDACTED_SERVER_IP:4000


GIT WORKFLOW
------------

# Se Ã¤ndringar
git status
git diff

# Commit Ã¤ndringar
git add src/server.js
git commit -m "Add new feature"

# (Om GitHub Ã¤r konfigurerat)
git push


KOPPLA TILL GITHUB
------------------

1. Skapa repo pÃ¥ GitHub: https://github.com/new
   Namn: fullstack-demo
   VIKTIGT: Bocka INTE i "Initialize with README"

2. PÃ¥ servern:
   cd ~/projects/fullstack-demo
   git remote add origin https://github.com/DITT-USERNAME/fullstack-demo.git
   git push -u origin main

3. FÃ¶rsta gÃ¥ngen behÃ¶ver du Personal Access Token:
   GitHub â†’ Settings â†’ Developer settings â†’ Personal access tokens
   Generate new token â†’ scope: "repo"
   AnvÃ¤nd token som lÃ¶senord nÃ¤r du pushar


VANLIGA KOMMANDON
-----------------

# Starta
docker-compose up -d

# Stoppa
docker-compose down

# Restart bara app (efter kodÃ¤ndring)
docker-compose restart app

# Rebuild (efter Dockerfile-Ã¤ndring)
docker-compose up -d --build

# Visa loggar
docker-compose logs -f
docker-compose logs -f app
docker-compose logs -f db

# Lista containers
docker-compose ps

# Ã–ppna shell i container
docker-compose exec app sh
docker-compose exec db psql -U appuser appdb


DATABAS-KOMMANDON
-----------------

# Ã–ppna PostgreSQL psql
docker-compose exec db psql -U appuser appdb

# I psql:
\dt                    # Lista tabeller
\d users               # Beskriv tabell
SELECT * FROM users;   # Visa alla users
\q                     # Avsluta


FELSÃ–KNING
----------

Problem: Port 4000 upptagen
LÃ¶sning: Ã„ndra port i docker-compose.yml
         ports: - "4001:4000"

Problem: Databas ansluter inte
LÃ¶sning: docker-compose logs db
         Kontrollera att db Ã¤r "healthy": docker-compose ps

Problem: Hot reload fungerar inte
LÃ¶sning: AnvÃ¤nd VS Code Remote-SSH (inte lokal mappning)

Problem: "permission denied" nÃ¤r du kÃ¶r docker
LÃ¶sning: Se DOCKER-FIX-MANUELL.md


PROJEKTSTRUKTUR
---------------

fullstack-demo/
â”œâ”€â”€ docker-compose.yml      # Orkestering, nÃ¤tverk, volymer
â”œâ”€â”€ Dockerfile              # Node.js container
â”œâ”€â”€ package.json            # NPM dependencies
â”œâ”€â”€ src/
â”‚   â””â”€â”€ server.js           # Express API (REDIGERA DENNA)
â”œâ”€â”€ db-init/
â”‚   â””â”€â”€ 01-schema.sql       # Databas-schema
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md


API ENDPOINTS
-------------

GET  /                  - API info
GET  /health            - Health check med databas-test
GET  /users             - Lista alla users
POST /users             - Skapa ny user
                          Body: {"name":"Namn","email":"email@example.com"}


NÃ„TVERK & SÃ„KERHET
------------------

âœ… App exponerad pÃ¥ port 4000 (Ã¥tkomlig utifrÃ¥n)
âœ… Databas INTE exponerad (bara Ã¥tkomlig frÃ¥n app via Docker-nÃ¤tverk)
âœ… App nÃ¥r databas via hostname "db" pÃ¥ port 5432
âœ… Persistent data i Docker-volym (Ã¶verlever omstart)
âœ… Kod-mappning fÃ¶r hot reload


DOKUMENTATION
-------------

Komplett guides:
- C:\Users\marcu\OneDrive\Dokument\_synology_1\mittemellan-docs\FULLSTACK-DEMO.md
- C:\Users\marcu\OneDrive\Dokument\_synology_1\mittemellan-docs\FULLSTACK-GIT-WORKFLOW.md


NÃ„STA STEG
----------

1. Starta projektet (se ovan)
2. Testa API:et
3. Ã–ppna i VS Code Remote-SSH
4. Redigera src/server.js
5. LÃ¤gg till nya endpoints
6. Commit till Git
7. Push till GitHub (nÃ¤r redo)


HJÃ„LP
-----

Se fullstÃ¤ndig dokumentation i mittemellan-docs\

Lycka till! ðŸš€
